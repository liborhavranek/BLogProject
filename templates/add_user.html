{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}

<div class="alert alert-success alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  
{% endfor %}



{% if nick_name %}
	<h1>User Added!</h1>
	<br/><br/>

  <table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nick name</th>
        <th scope="col">First name</th>
        <th scope="col">Last name</th>
        <th scope="col">Email</th>
        <th scope="col">Age</th>
        <th scope="col">Color</th>
        <th scope="col">PW</th>
        <th scope="col">Date added</th>
      </tr>
    </thead>
    
    <tbody>
      {% for our_user in our_users %}
      <tr>
        <th scope="row">{{ our_user.id }}</th>
        <td><a href="{{url_for('update', id=our_user.id)}}">{{ our_user.nick_name }}</td></a>
        <td>{{ our_user.first_name }}</td>
        <td>{{ our_user.last_name }}</td>
        <td>{{ our_user.email }}</td>
        <td>{{ our_user.age }}</td>
        <td>{{ our_user.color }}</td>
        <td>{{ our_user.password_hash }}</td>
        <td>{{ our_user.date_added }}</td>
        <td><a href="{{url_for('delete', id=our_user.id)}}">- Delete</a></td>
      </tr>
      <tr>
  
        {% endfor%}
    </tbody>
    
  </table>


  {% else %}


<div class="shadow-lg p-3 mb-5 bg-body rounded">
<form method="POST">
    {{ form.hidden_tag() }}
    {{ form.nick_name.label(class="form-label") }}
    {{ form.nick_name(class="form-control") }}
    <br>
    {{ form.first_name.label(class="form-label") }}
    {{ form.first_name(class="form-control") }}
    <br>
    {{ form.last_name.label(class="form-label") }}
    {{ form.last_name(class="form-control") }}
    <br>
    {{ form.email.label(class="form-label") }}
    {{ form.email(class="form-control") }}
    <br>
    {{ form.age.label(class="form-label") }}
    {{ form.age(class="form-control") }}
    <br>

    {{ form.color.label(class="form-label") }}
    {{ form.color(class="form-control") }}
    <br>

    {{ form.password_hash.label(class="form-label") }}
    {{ form.password_hash(class="form-control") }}
    <br/>

    {{ form.password_hash2.label(class="form-label") }}
    {{ form.password_hash2(class="form-control") }}
    <br/>
    {{ form.submit(class="btn btn-primary") }}
</form>


</div>
<br><br><br>
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Nick name</th>
      <th scope="col">First name</th>
      <th scope="col">Last name</th>
      <th scope="col">Email</th>
      <th scope="col">Age</th>
      <th scope="col">Color</th>
      <th scope="col">PW</th>
      <th scope="col">Date added</th>
    </tr>
  </thead>
  
  <tbody>
    {% for our_user in our_users %}
    <tr>
      <th scope="row">{{ our_user.id }}</th>
      <td><a href="{{url_for('update', id=our_user.id)}}">{{ our_user.nick_name }}</td></a>
      <td>{{ our_user.first_name }}</td>
      <td>{{ our_user.last_name }}</td>
      <td>{{ our_user.email }}</td>
      <td>{{ our_user.age }}</td>
      <td>{{ our_user.color }}</td>
      <td>{{ our_user.password_hash }}</td>
      <td>{{ our_user.date_added }}</td>
      <td><a href="{{url_for('delete', id=our_user.id)}}">- Delete</a></td>
    </tr>
    <tr>

      {% endfor%}
  </tbody>
  
</table>
{% endif %}

{% endblock content %}