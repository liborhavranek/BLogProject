{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}

<div class="alert alert-success alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  
{% endfor %}

<h1>Blog posts...</h1>
<br>

{% for post in posts %}
<div class="hidden-box"> hidden be hidden!!!!</div>

<div class="shadow-lg p-3 mb-5 bg-body rounded">
    <a href="{{url_for('post', id=post.id)}}"><h2>{{ post.title }} <br></h2></a>
    <h5>{{ post.poster.nick_name }} <br></h5>
    {{ post.slug }} <br>
    {{ post.content|safe }} <br>
    {{ post.date_post }} <br>
    <hr>
    <a href="{{url_for('post', id=post.id)}}" class="btn btn-secondary">Wiev post</a>
    {% if post.poster_id == current_user.id %}
    <a href="{{url_for('edit_post', id=post.id)}}" class="btn btn-secondary">Edit blog</a>
    <a href="{{url_for('delete_post', id=post.id)}}" class="btn btn-danger">Delete post</a>
    {% endif %}
</div>

{% endfor %}
{% endblock content %}